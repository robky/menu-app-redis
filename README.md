# REST API по работе с меню ресторана
### Описание
REST API по работе с меню ресторана реализовано в 3 сущностях: Меню, подменю, блюдо.

Зависимости:
- У меню есть подменю, которые к ней привязаны.
- У подменю есть блюда.
Условия:
- Блюдо не может быть привязано напрямую к меню, минуя подменю.
- Блюдо не может находиться в 2-х подменю одновременно.
- Подменю не может находиться в 2-х меню одновременно.
- Если удалить меню, удалятся все подменю и все блюда этого меню.
- Если удалить подменю, удаляться все блюда этого подменю.
- Для каждого меню указывается количество подменю и количество блюд в этом меню.
- Для каждого подменю указывается количество блюд в этом подменю.

### Demo
```
http://62.217.182.151:8000/docs
http://62.217.182.151:8000/redoc
```

### Изменения
Добавлено автоматические контрольные тесты перед добавлением в git. 
Добавлено кеширование ответов при помощи redis. 
Написаны тесты для проверки кеширования.

### Технологии
```
Python 3.10
FastAPI
PostrgreSQL
Redis
SQLAlchemy
Alembic
uvicorn
pytest
docker-compose
```

### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:
```
git clone https://github.com/robky/menu-app-redis.git
cd menu-app-redis
```

Переименовать файлы .env.example и .env_test.example 
```
mv .env.example .env
mv .env_test.example .env_test
```

Заполнить файлы .env и .env_test актуальными данными согласно примеру.

Запустить контейнер c проектом
```
docker-compose up -d
```
Проект будет доступен на 8000 порту.

### Как запустить тесты:

Запустить контейнер с тестами
```
docker-compose -f docker-compose-tests.yml up
```

После окончания тестов, контейнер с тестами останавливается.